{% section "Lists" %}
<p>Most of programs work not only with variables. They also use lists of variables.
For example, a program can handle an information about students in a class by reading the list of
students from the keyboard or from a file. A change in the number of students in the class
must not require modification of the program source code.

<p>Previously we have already faced the task of processing elements of a sequence &mdash;
for example, when computing the largest element of the sequence. But 
we haven't kept the whole sequence in computer's memory. However, 
in many problems it is necessary to keep the entire sequence, like
if we had to print out all the elements of a sequence
in ascending order (&quot;sort a sequence&quot;).


<p>To store such data, in Python you can use the data structure
called <u>list</u> (in most programming languages the different term is used &mdash; &ldquo;array&rdquo;).
A list is a sequence of elements numbered
from 0, just as characters in the string. The list can be set manually by enumerating of the elements
the list in square brackets, like here:

{% noprogram %}
Primes = [2, 3, 5, 7, 11, 13]
Rainbow = ['Red', 'Orange', 'Yellow', 'Green', 'Blue', 'Indigo', 'Violet']
{% endnoprogram %}

<p>The list <code>Primes</code> has 6 elements, namely:
<code>Primes[0]&nbsp;==&nbsp;2</code>, 
<code>Primes[1]&nbsp;==&nbsp;3</code>, 
<code>Primes[2]&nbsp;==&nbsp;5</code>, 
<code>Primes[3]&nbsp;==&nbsp;7</code>, 
<code>Primes[4]&nbsp;==&nbsp;11</code>, 
<code>Primes[5]&nbsp;==&nbsp;13</code>.
The list <code>Rainbow</code> has 7 elements, each of which
is the string.

<p>
Like the characters in the string, the list elements can also have negative index, for example, 
<code>Primes[-1]&nbsp;==&nbsp;13</code>, 
<code>Primes[-6]&nbsp;==&nbsp;2</code>.  The negative index means we start at the last element and go left when reading a list.

<p>You can obtain the number of elements in a list with the function <code>len</code> (meaning <i>length of the list</i>), e.g. 
<code>len(Primes)&nbsp;==&nbsp;6</code>.

<p>Unlike strings, the elements of a list are changeable; they can be changed by assigning them new values.

{% program %}
Rainbow = ['Red', 'Orange', 'Yellow', 'Green', 'Blue', 'Indigo', 'Violet']
print(Rainbow[0])
Rainbow[0] = 'red'
print('Print the rainbow')
for i in range(len(Rainbow)):
    print(Rainbow[i])
{% endprogram %}

<p>Consider several ways of creating and reading lists. First of all, you can create
an empty list (the list with no items, its length is 0), and you can add items to the end of your list
using <code>append</code>. For example, suppose the program receives
the number of elements in the list <code>n</code>, and then <code>n</code> elements of
the list one by one each at the separate line. Here is an example of input data in this format:

{% noprogram %}
5
1809
1854
1860
1891
1925
{% endnoprogram %}

In this case, you can organize the reading from such list as follows:

{% program %}
a = [] # start an empty list
n = int(input()) # read number of element in the list
for i in range(n): 
    new_element = int(input()) # read next element
    a.append(new_element) # add it to the list
    # the last two lines could be replaced by one:
    # a.append(int(input()))
print(a)
{% inputdata %}
5
1809
1854
1860
1891
1925
{% endinputdata %}
{% endprogram %}

<p>In the demonstrated example the empty list is created, then the number of elements is read, then you read the list items line by line and append to the end.
The same thing can be done, saving the variable <code>n</code>:
{% program %}
a = []
for i in range(int(input())):
    a.append(int(input()))
print(a)
{% inputdata %}
5
1809
1854
1860
1891
1925
{% endinputdata %}
{% endprogram %}

<p>There are several operations defined for lists: list concatenation
(addition of lists, i.e. &quot;gluing&quot; one list to another) and repetition (multiplying a list
by a number). For example:

{% program %}
a = [1, 2, 3]
b = [4, 5]
c = a + b
d = b * 3
print([7, 8] + [9])
print([0, 1] * 3)
{% endprogram %}

<p>The resulting list <code>c</code> will be equal to <code>[1, 2, 3, 4, 5]</code>, and a list of
<code>d</code> will be equal to <code>[4, 5, 4, 5, 4, 5]</code>. This allows you 
to organize the process of reading lists differently: first, consider the size of the list and create a list
from the desired number of elements, then loop through the variable <code>i</code> starting
with number 0 and inside the loop read <code>i</code>-th element of the list:


{% program %}
a = [0] * int(input())
for i in range(len(a)):
    a[i] = int(input())
{% inputdata %}
5
1809
1854
1860
1891
1925
{% endinputdata %} 
{% endprogram %}

<p>You can print elements of a list <code>a</code> with <code>print(a)</code>;
this displays the list items surrounded by square brackets and separated by commands. In general, this is inconvenient; in common, you are about to print all the elements in one line or one item per line. Here are two examples of that, using other forms of loop:

{% program %}
a = [1, 2, 3, 4, 5]
for i in range(len(a)):
    print(a[i])
{% endprogram %}

<p> Here the index <code>i</code> is changed, then the element <code>a[i]</code> is displayed.

{% program %}
a = [1, 2, 3, 4, 5]
for elem in a:
    print(elem, end=' ')
{% endprogram %}

<p>In this example, the list items are displayed in one line separated by spaces, and it's not the index that is changed but rather the value of the variable itself (for example, in the loop <code>for elem in ['red', 'green', 'blue']</code> variable
<code>elem</code> will take the values <code>'red'</code>,
<code>'green'</code>, <code>'blue'</code> successively.

<p>Pay special attention to the last example! A very important part of Python ideology is <code>for</code> loop, which provides the convenient way to iterate over all elements of some sequence.
This is where Python differs from Pascal, where you have to iterate over elements' <i>indexes</i>,
but not over the elements themselves. 

<p>Sequences in Python are strings, lists, values of the function <code>range()</code> (these are not lists), and 
some other objects.

<p>Here's an example showing the use of the <code>for</code> loop when you are needed to extract all the digits from a string and to make numeric list of them.
{% program %}
# given: s = 'ab12c59p7dq'
# you need to extract digits from the list s
# to make it so:
# digits == [1, 2, 5, 9, 7]
s = 'ab12c59p7dq'
digits = []
for symbol in s:
    if '1234567890'.find(symbol) != -1:
        digits.append(int(symbol))
print(digits)
{% endprogram %}
{% endsection %}



{% section "Split and join methods" %}
<p>List items can be given in one line separated by a character; in this case, the entire list can be read using <code>input()</code>. You can then use a string method
<code>split()</code>, which returns a list of strings resulting after cutting the initial string by spaces. Example:

{% program %}
# the input is a string
# 1 2 3
s = input() # s == '1 2 3'
a = s.split() # a == ['1', '2', '3']
print(a)
{% inputdata %}
1 2 3
{% endinputdata %}
{% endprogram %}

<p>If you run this program with the input data of <code>1 2 3</code>, the list
<code>a</code> will be equal to <code>['1', '2', '3']</code>. Please note that
the list will consist of strings, not of numbers. If you want to get the list
of numbers, you have to convert the list items one by one to integers:

{% program %}
a = input().split()
for i in range(len(a)):
    a[i] = int(a[i])
print(a)
{% inputdata %}
1 2 3
{% endinputdata %}    
{% endprogram %}

<p>Using the special magic of Python &mdash; generators &mdash;
the same can be done in one line:
{% program %}
a = [int(s) for s in input().split()]
print(a)
{% inputdata %}
1 2 3
{% endinputdata %} 
{% endprogram %}

<p>(We will explain of how does this code work in the next section.)
If you want to read a list of real numbers, you have to change the type
<code>int</code> to <code>float</code>.

<p>The method <code>split()</code> has an optional parameter that
determines which string will be used as the separator
between list items. For example, calling the method <code>split('.')</code>
returns the list obtained by splitting the initial string where the character
<code>'.'</code> is encountered:

{% program %}
a = '192.168.0.1'.split('.')
print(a)
{% endprogram %}


<p>In Python, you can display a list of strings using one-line commands. 
For that, the method <code>join</code> is used; this method has one parameter: a list of strings. 
It returns the string obtained by concatenation of the elements given, and the separator is inserted between the elements of the list; this separator is equal to the string on which is the method applied. We know that you didn't
understand the previous sentence from the first time. :) Look at the examples:
{% program %}
a = ['red', 'green', 'blue']
print(' '.join(a))
# return red green blue
print(''.join(a))
# return redgreenblue
print('***'.join(a))
# returns red***green***blue
{% endprogram %}

<p>If a list consists of numbers, you have to use the dark magic of generators.
Here's how you can print out the elements of a list, separated by spaces:

{% program %}
a = [1, 2, 3]
print(' '.join([str(i) for i in a]))
# the next line causes a type error,
# as join() can only concatenate strs
# print(' '.join(a))
{% endprogram %}

<p>However, if you are not a fan of dark magic, you can achieve the same effect using the loop <code>for</code>.
{% endsection %}



{% section "Generators" %}
<p>To create a list filled with identical items, you can use
the repetition of list, for example:

{% program %}
n = 5
a = [0] * n
print(a)
{% endprogram %}

<p>To create more complicated lists you can use
<em>generators</em>: the expressions allowing to fill a list according to a formula.
The general form of a generator is as follows:


{% noprogram %}
[expression for variable in sequence]
{% endnoprogram %}

<p>where <code><em>variable</em></code> is the ID of some
variable, <code><em>sequence</em></code> is a sequence of values,
which takes the variable (this can be a list, a string, or an object obtained using the function <code>range</code>),
<code><em>expression</em></code>&nbsp;&mdash; some expression, usually depending on the variable used in the generator. The list elements will be filled according to this expression.

<p>Here are some examples of people using generators.

<p>This is how you create a list of <code>n</code> zeros using the generator:

{% program %}
a = [0 for i in range(5)]
print(a)
{% endprogram %}

<p>Here's how you create a list filled with squares of integers:

{% program %}
n = 5
a = [i ** 2 for i in range(n)]
print(a)
{% endprogram %}

<p>If you need to fill out a list of squares of numbers from 1 to <code>n</code>,
you can change the settings of <code>range</code> to
<code>range(1, n + 1)</code>:

{% program %}
n = 5
a = [i ** 2 for i in range(1, n + 1)]
print(a)
{% endprogram %}

<p>Here's how you can get a list filled with random
numbers from 1 to 9 (using <code>randrange</code>
from the module <code>random</code>):

{% program %}
from random import randrange
n = 10
a = [randrange(1, 10) for i in range(n)]
print(a)
{% endprogram %}

<p>And in this example the list will consist of lines read
from standard input: first, you need to enter the number of elements of
the list (this value will be used as an argument of
the function <code>range</code>), second&nbsp;&mdash; that number of strings:

{% program %}
a = [input() for i in range(int(input()))]
print(a)
{% inputdata %}
5
a
b
1
2
3
{% endinputdata %}
{% endprogram %}
{% endsection %}



{% section "Slices" %}
<p>With lists and strings, you can do slices. Namely:


<p><code>A[i:j]</code>&nbsp; slice <code>j-i</code> elements
<code>A[i]</code>, <code>A[i+1]</code>, ..., <code>A[j-1]</code>.

<p><code>A[i:j:-1]</code>&nbsp; slice <code>i-j</code> elements

<code>A[i]</code>, <code>A[i-1]</code>, ..., <code>A[j+1]</code>
(that is, changing the order of the elements).

<p><code>A[i:j:k]</code>&nbsp; cut with the step <code>k</code>:
<code>A[i]</code>, <code>A[i+k]</code>, <code>A[i+2*k]</code>,... .
If the value of <code>k</code>&lt;0, the elements come in the opposite order.



<p>Each of the numbers <code>i</code> or <code>j</code> may be missing,
what means &ldquo;the beginning of line&rdquo; or &ldquo;the end of line&quot;

<p>Lists, unlike strings, are <b>mutable objects</b>: you can assign a list item to a new value. Moreover, it is possible to change entire
slices. For example:

{% program %}
A = [1, 2, 3, 4, 5]
A[2:4] = [7, 8, 9]
print(A)
{% endprogram %}

<p>Here we received a list <code>[1, 2, 3, 4, 5]</code>, and then try to replace the two elements of the slice <code>A[2:4]</code>
with a new list of three elements. The resulting list is as follows:
<code>[1, 2, 7, 8, 9, 5]</code>.

{% program %}
A = [1, 2, 3, 4, 5, 6, 7]
A[::-2] = [10, 20, 30, 40]
print(A)
{% endprogram %}

<p>And here, the resulting list will be <code>[40, 2, 30, 4, 20, 6, 10]</code>. The reason is,
<code>A[::-2]</code> is a list of elements

<code>A[-1]</code>, <code>A[-3]</code>, <code>A[-5]</code>, A<code>[-7]</code>, and that elements are
assigned to 10, 20, 30, 40, respectively. 

<p>If a discontinuous slice (i.e. a slice with a step <code>k</code>, <code>
k > 1</code>) is assigned a new value, then the number of elements in the old and new slices
necessarily coincide, otherwise error <code>ValueError</code> occurs.

<p>Note that <code>A[i]</code> is a list item, not a slice!

{% endsection %}



{% section "Operations on lists" %}

<p>You can easily do many different operations with lists.


<table border="1" cellpadding="5">

<tr>
<td>
<div style="margin:5px; font-weight: bold;">
x in A
</div>
</td>
<td>
<div style="margin:5px;"> 
Check whether an item in the list. Returns True or False
</div>
</td>
</tr>


<tr>
<td>
<div style="margin:5px; font-weight: bold;">
x not in A
</div>
</td>
<td>
<div style="margin:5px;"> 
The same as not(x in A)
</div>
</td>
</tr>


<tr>
<td>
<div style="margin:5px; font-weight: bold;">
min(A)
</div>
</td>
<td>
<div style="margin:5px;"> 
The smallest element of list
</div>
</td>
</tr>


<tr>
<td>
<div style="margin:5px; font-weight: bold;">
max(A)
</div>
</td>
<td>
<div style="margin:5px;"> 
The largest element in the list
</div>
</td>
</tr>

<tr>
<td>
<div style="margin:5px; font-weight: bold;">
A.index(x)
</div>
</td>
<td>
<div style="margin:5px;"> 
The index of the first occurrence of element x in the list; in its absence generates an exception ValueError
</div>
</td>
</tr>


<tr>
<td>
<div style="margin:5px; font-weight: bold;">
A.count(x)
</div>
</td>
<td>
<div style="margin:5px;"> 
The number of occurrences of element x in the list
</div>
</td>
</tr>

</table>


{% endsection %}
